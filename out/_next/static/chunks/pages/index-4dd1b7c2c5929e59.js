(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7317)}])},7317:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var o=n(4051),r=n.n(o),i=n(5944),c=n(2293),a=n(155),l=n(5861),s=n(8134),d=n(5389),h=n(2882),u=n(7906),p=n(3184),f=n(3816),g=n(3252),Z=n(295),b=n(4220),m=n(7109),y=n(7294),x=n(2127),v=n(5291),k=n(7357),S=n(4257),w=n(7948),O=n(3917),B=n.n(O),I=n(4009),z=n(5113),j=n(4330),X=n(3765),P=n(6447),C=n(8100),N=function(e){return fetch(e).then((function(e){return e.json()}))};function q(e,t,n,o,r,i,c){try{var a=e[i](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(o,r)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){E(e,t,n[t])}))}return e}function W(){var e=(0,y.useState)(null),t=e[0],n=e[1],o=(0,y.useState)({}),O=o[0],W=o[1],D=function(){var e=(0,C.ZP)("http://localhost:8000/shop/foods/",N,{refreshInterval:3e3}),t=e.data,n=e.error;return{foodsData:t,foodsDataIsLoading:!n&&!t,foodsDataIsError:n}}(),J=D.foodsData,T=(D.foodsDataIsLoading,D.foodsDataIsError,function(){var e,t=(e=r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8000/shop/newOrder/",{method:"post",body:JSON.stringify({foods:Object.keys(O),data:Object.values(O)}),headers:{"Content-Type":"application/json"}});case 2:e.sent.ok?(n(null),W({}),localStorage.removeItem("shoppingBasket")):console.log("failed");case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function c(e){q(i,o,r,c,a,"next",e)}function a(e){q(i,o,r,c,a,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}()),R=function(e,t,n){if(e in O&&"add"===n){var o=_({},O);o[e]=_({},o[e],{qty:t.qty+1}),localStorage.setItem("shoppingBasket",JSON.stringify(o)),W(o)}else if(e in O&&"remove"===n){var r=_({},O);r[e]=_({},r[e],{qty:t.qty-1}),localStorage.setItem("shoppingBasket",JSON.stringify(r)),W(r)}},A=Boolean(t),Y=A?"shopping-popper":void 0;return(0,y.useEffect)((function(){W(localStorage.getItem("shoppingBasket")?JSON.parse(localStorage.getItem("shoppingBasket")):{})}),[]),(0,i.BX)(i.HY,{children:[(0,i.tZ)(c.Z,{color:"transparent",children:(0,i.BX)(a.Z,{sx:{justifyContent:"space-around"},children:[(0,i.tZ)("div",{}),(0,i.BX)(l.Z,{component:"h1",variant:"h3",fontWeight:"bolder",children:["Django ",(0,i.tZ)("span",{style:{color:"greenyellow"},children:"Eats"})]}),(0,i.tZ)(s.Z,{badgeContent:Object.keys(O).length,color:"success","aria-describedby":Y,onClick:function(e){n(t?null:e.currentTarget)},sx:{cursor:"pointer"},children:(0,i.tZ)(X.Z,{sx:{inlineSize:30,blockSize:30}})}),Object.entries(O).length>0?(0,i.tZ)(d.Z,{id:Y,open:A,anchorEl:t,style:{zIndex:1200},children:(0,i.BX)(z.Z,{sx:{py:2},children:[(0,i.tZ)(h.Z,{children:(0,i.BX)(u.Z,{size:"small",children:[(0,i.tZ)(p.Z,{children:(0,i.BX)(f.Z,{sx:{fontWeight:"bold"},children:[(0,i.tZ)(g.Z,{sx:{fontWeight:"bold"},children:"Item"}),(0,i.tZ)(g.Z,{align:"center",sx:{fontWeight:"bold"},children:"Price"}),(0,i.tZ)(g.Z,{align:"center",sx:{fontWeight:"bold"},children:"QTY"}),(0,i.tZ)(g.Z,{align:"center",sx:{fontWeight:"bold"},children:"Total"}),(0,i.tZ)(g.Z,{align:"center",sx:{fontWeight:"bold"}})]})}),(0,i.tZ)(Z.Z,{children:Object.entries(O).map((function(e){return(0,i.BX)(f.Z,{component:"th",sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,i.tZ)(g.Z,{sx:{fontWeight:"bold"},children:e[1].name}),(0,i.tZ)(g.Z,{align:"center",children:e[1].price}),(0,i.tZ)(g.Z,{align:"center",children:(0,i.tZ)(b.Z,{size:"small",variant:"standard",InputProps:{startAdornment:(0,i.tZ)(m.Z,{position:"start",children:(0,i.tZ)(I.Z,{onClick:function(){return R(e[0],e[1],"remove")},sx:{cursor:"pointer"}})}),endAdornment:(0,i.tZ)(m.Z,{position:"end",children:(0,i.tZ)(x.Z,{onClick:function(){return R(e[0],e[1],"add")},sx:{cursor:"pointer"}})})},value:e[1].qty,sx:{inlineSize:80,textAlign:"center"}})}),(0,i.tZ)(g.Z,{align:"center",children:e[1].qty*e[1].price}),(0,i.tZ)(g.Z,{align:"center",children:(0,i.tZ)(j.Z,{color:"error",sx:{cursor:"pointer"},onClick:function(t){return function(e){if(e in O){var t=_({},O);delete t[e],localStorage.setItem("shoppingBasket",JSON.stringify(t)),W(t)}}(e[0])}})})]},e[0])}))})]})}),(0,i.tZ)(S.Z,{variant:"contained",color:"success",sx:{mx:"auto",display:"block",mt:1},onClick:function(){T()},children:"Order"})]})}):(0,i.BX)(d.Z,{id:Y,open:A,anchorEl:t,style:{zIndex:1200},children:[" ",(0,i.tZ)(z.Z,{sx:{p:3},children:"You didn't choose any food"})]})]})}),(0,i.BX)(k.Z,{sx:{blockSize:"100vh",backgroundColor:"primary.main",backgroundImage:"url(/images/left-hero-image.svg), url(/images/right-hero-image.svg)",backgroundRepeat:"no-repeat",backgroundPosition:"left, right"},children:[(0,i.tZ)(a.Z,{}),(0,i.tZ)("img",{src:"/images/order-now.png",alt:"order now",height:"70px",width:"530px",style:{position:"absolute",left:"calc((100vw - 530px) / 2)",marginTop:20}}),(0,i.BX)(w.Z,{maxWidth:"lg",sx:{my:"calc((100vh - 500px) / 2)"},children:[(0,i.tZ)(k.Z,{sx:{inlineSize:"100%",blockSize:"100%"},children:J&&(0,i.tZ)(B(),{options:{autoPlay:!0,contain:!0},children:J.map((function(e){return(0,i.tZ)("div",{className:"carousel-cell",children:(0,i.BX)(z.Z,{sx:{blockSize:400,inlineSize:300,borderRadius:6,boxShadow:7,display:"flex",flexDirection:"column",mx:4,mb:3},children:[(0,i.tZ)(k.Z,{sx:{backgroundImage:"url(".concat("http://localhost:8000"+(null===e||void 0===e?void 0:e.image),")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",blockSize:400,borderRadius:"24px 24px 0px 0px"}}),(0,i.tZ)(k.Z,{sx:{px:2,pb:1,flexGrow:1,blockSize:"40% !important"},children:(0,i.BX)(P.Z,{direction:"row",justifyContent:"space-between",children:[(0,i.tZ)(l.Z,{component:"h2",variant:"h3",fontWeight:"bold",children:e.name}),(0,i.BX)(l.Z,{fontWeight:"bold",component:"h2",variant:"h5",children:[e.price,"$"]})]})}),(0,i.tZ)(S.Z,{size:"large",variant:"contained",color:"info",sx:{display:"block",mx:"auto",mb:1},onClick:function(t){var n;(n=e).id in O?(localStorage.setItem("shoppingBasket",JSON.stringify(_({},O,E({},n.id,_({},O[n.id],{qty:O[n.id].qty+1}))))),W(_({},O,E({},n.id,_({},O[n.id],{qty:O[n.id].qty+1}))))):(localStorage.setItem("shoppingBasket",JSON.stringify(_({},O,E({},n.id,_({},n,{qty:1}))))),W(_({},O,E({},n.id,_({},n,{qty:1})))))},children:(0,i.tZ)(v.Z,{})})]})},e.id)}))})})," "]})]})]})}}},function(e){e.O(0,[743,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);